{% load static %}
<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Sat Dec 16 2023 11:40:41 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="6544face6daa24d5bbd54a98" data-wf-site="652d1c75ac2fb6a71a2ad03c">
<head>
  <meta charset="utf-8">
  <title>Hope for Wildlife</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="{% static 'css/normalize.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'css/webflow.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'css/webflow.css' %}" rel="stylesheet" type="text/css">
  <link href="{% static 'css/hope-for-wildlife.webflow.css' %}" rel="stylesheet" type="text/css">
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="{% static 'images/favicon.ico' %}" rel="shortcut icon" type="image/x-icon">
  <link href="{% static 'images/webclip.png' %}" rel="apple-touch-icon">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
  <!--  Replace version in the URL with desired library version  -->
  <link rel="stylesheet" type="text/css" href="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.64.0/maps/maps.css">
  <script src="https://api.tomtom.com/maps-sdk-for-web/cdn/5.x/5.64.0/maps/maps-web.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
   #map {
       height: 500px;
   }
  .marker-icon {
      background-position: center;
      background-size: 22px 22px;
      border-radius: 50%;
      height: 22px;
      left: 4px;
      position: absolute;
      text-align: center;
      top: 3px;
      transform: rotate(45deg);
      width: 22px;
  }
  .marker {
      height: 30px;
      width: 30px;
  }
        .marker-content {
            background: #c30b82;
            border-radius: 50% 50% 50% 0;
            height: 30px;
            left: 50%;
            margin: -15px 0 0 -15px;
            position: absolute;
            top: 50%;
            transform: rotate(-45deg);
            width: 30px;
        }
        .marker-content::before {
            background: #ffffff;
            border-radius: 50%;
            content: "";
            height: 24px;
            margin: 3px 0 0 3px;
            position: absolute;
            width: 24px;
        }
  html {
      height:100%;
  }
</style>
  <script>
// create an empty array and fill it up with CMS items
var data = [];
</script>
</head>
<body class="body-3">
  <div class="div-block-14">
    <div class="w-layout-blockcontainer container-6 w-container">
      <a data-w-id="bbd4ae3c-3db0-6999-5433-99fcaae9648f" href="#" class="button-2-b w-button">Pick-up</a>
      <div class="html-embed-6 w-embed w-script">
        <style>.mapboxgl-marker {width:30px;height:36px}</style>
        <div id="map" class="map" style="width:100%"></div>
        <script>
function createMarker(position, color, popupText) {
    var markerElement = document.createElement('div');
    markerElement.className = 'marker';
    var markerContentElement = document.createElement('div');
    markerContentElement.className = 'marker-content';
    markerContentElement.style.backgroundColor = color;
    markerElement.appendChild(markerContentElement);
    var popup = new tt.Popup({offset: 30}).setText(popupText);
    // add marker to map
    new tt.Marker({element: markerElement, anchor: 'bottom'})
        .setLngLat(position)
        .setPopup(popup)
        .addTo(map);
};
var statusMap = {
    "Waiting": "#DC4C64",
    "Picked-up":"#0000FF",
    "Relay requested":"#E4A11B",
    "Dropped-off":"#14A44D"
}
var hfwCoords = [-63.2624, 44.6645]
var map = tt.map({
    key: '3XAy6LmoYfriuyZF50VPlPAaqo7Pw5oG', // replace with your actual key
    container: 'map',
    zoom: 9,
});
// Check if geolocation is supported by the browser
if ("geolocation" in navigator) {
  navigator.geolocation.getCurrentPosition(function(position) {
    // Get the coordinates
    const latitude = position.coords.latitude;
    const longitude = position.coords.longitude;
    // Print the coordinates in the console
    console.log(`Latitude: ${latitude}, Longitude: ${longitude}`);
    // Update the map center to the user's location
    map.setCenter([longitude, latitude]);
    // user marker
    createMarker([longitude, latitude], "#000", "User");
  }, function(error) {
    // Handle error
    console.error('Error obtaining location:', error.message);
  });
} else {
  console.error('Geolocation is not supported by this browser.');
}
// HFW marker
createMarker(hfwCoords, "#000", "Hope for Wildlife");
// animal marker
createMarker([], "#333", "");
</script>
      </div>
      <div class="w-row">
        <div class="w-col">
          <table class="w-full table-auto">
            <thead>
              <tr>
                <th>Animal</th>
                <th>Status</th>
                <th>Date</th>
                <th>Contact</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              {% for c in case.log %}
              <tr>
                <td>{{ case.animal }}</td>
                <td>{{ c.status }}</td>
                <td>{{ c.updated_on }}</td>
                <td>{{ c.name }}: {{ c.contact_number }}</td>
                <td>{{ c.message }}</td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
      <div class="w-embed w-script">
        <script>
data.push({"coordinates":[],"status":"","Animals":""});
</script>
      </div>
    </div>
  </div>
  <div class="modal-wrapper">
    <div class="modal-background">
      <div class="w-layout-blockcontainer modal w-container">
        <div class="div-block-11 w-clearfix">
          <a data-w-id="0a0b1472-15e5-87e2-ed29-8641413ffec2" href="#" class="button-2-c w-button">Close</a>
        </div>
        <h1>Confirmation</h1>
        <div class="text-block-6">Please type your first and last name in the field below <br>to confirm that you will pick this animal up as soon as possible. <br>The system will automatically notify the reporter.</div>
        <div class="w-form">
          <form id="wf-form-pickup" name="wf-form-pickup" data-name="pickup" method="get" data-wf-flow="4f73a55ed699b90faf8fa9bc" data-wf-page-id="6544face6daa24d5bbd54a98" data-wf-element-id="0a0b1472-15e5-87e2-ed29-8641413ffecb">
            <div class="div-block-19"><input type="text" class="w-input" maxlength="256" name="slug" data-name="slug" placeholder="" id="slug" required=""></div><input type="text" class="w-input" maxlength="256" name="name-confirm" data-name="name-confirm" placeholder="John Smith" id="name-confirm" required=""><input type="submit" value="Confirm" data-wait="Please wait..." class="button-2-b w-button">
          </form>
          <div class="w-form-done">
            <div>Thank you! Your submission has been received!</div>
          </div>
          <div class="w-form-fail">
            <div>Oops! Something went wrong while submitting the form.</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=652d1c75ac2fb6a71a2ad03c" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="{% static 'js/webflow.js' %}" type="text/javascript"></script>
  <script>
    document.getElementById("slug").value = "";
</script>
</body>
</html>